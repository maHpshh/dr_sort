<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹ºëŒ ë–¡ë°¥ ì†ŒíŠ¸</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; text-align: center; padding-top: 50px; background-color: #fcfcfc; }
        #battleNumber { font-size: 1.2rem; font-weight: bold; margin-bottom: 20px; color: #333; }
        #mainTable { margin: 0 auto; border-spacing: 15px; }
        .field { 
            width: 180px; height: 180px; border: 2px solid #333; border-radius: 15px;
            cursor: pointer; display: table-cell; vertical-align: middle; 
            padding: 20px; background: #ffffff; transition: 0.2s; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            font-size: 14px; line-height: 1.5;
        }
        .field:hover { background: #f0f0f0; transform: translateY(-5px); }
        #resultField { margin-top: 40px; }
        .res-table { margin: 0 auto; border-collapse: collapse; width: 320px; background: white; }
        .res-table td { border: 1px solid #ddd; padding: 10px; font-size: 14px; }
        .res-header { background: #333; color: white; font-weight: bold; }
    </style>
</head>
<body>

    <div id="battleNumber">ë¡œë”© ì¤‘...</div>

    <table id="mainTable">
        <tr>
            <td id="leftField" class="field" onClick="if(finishFlag==0)sortList(-1);"></td>
            <td id="rightField" class="field" onClick="if(finishFlag==0)sortList(1);"></td>
        </tr>
    </table>

    <div id="resultField">
        <p style="color: #888; font-size: 12px; margin-top: 50px;">@maHpshh</p>
    </div>

    <script type="text/javascript">
        var namMember = [
            "250206 ë¦´ìŠ¤", "250307 ë¦´ìŠ¤", "250310 ë¦´ìŠ¤", "250314 ë¦´ìŠ¤", "ì¸ê°„ê·¹ì¥ ì†ì¥ë‚œ",
            "ë£¸í• ìš´", "0.5 ì‚¬ê±´", "í•˜ëŒì´ ìƒì¼í¸ì§€", "ëˆ„ë•œ", "ì„œìŠ¤í˜", "56ë¼ë°©", "ì—ë°”ëœë“œ",
            "250513 ìœ„ë²„ìŠ¤ ë­”ë°", "250516 ìì»¨", "250520 ì§€ìš° ìœ„ë²„ìŠ¤", "250522 ë‹ºëŒ ì²« ì…€ì¹´",
            "ìì¹´ë¥´íƒ€ ë³¼ê¾¹", "í‹¸íŠ¸ ì±Œë¦°ì§€", "250527 ì¼ë³¸ ë¹„í•˜ì¸ë“œ", "250530 í–‡ì‚´íˆ¬ì–´", "62ë¼ë°©",
            "250609 ê±¸ìŠ¤ì–´ì›Œë“œ", "250613 ë©•ì‹œì½” ìŠ´ì½˜", "250615 ìŠ¤íƒ€ì¼ ë¦´ìŠ¤", "250618 ì…€ê·¸ì°ê°€",
            "250623 íŒíŠ¸í¸ì• ", "250627 í—¬ë¡œ82", "250628 ëŒì¹¨", "250711 ìŠ¤íƒ€ì¼ ì•ˆë¬´",
            "250722 ìš”ë§˜ë•Œ", "250807 ì•…ì´ì‚¬ ì‹œì‚¬íšŒ", "250924 ì´ëŒ€ë¡œ ì™„ë²½í•´", "250929 ë®¤ì›¨ ì™€í”Œ",
            "251021 ë®¤ì›¨ ì¡°ë¦¬í", "201107 ë˜ìš°ì¸", "251119 ì•ˆì•„ì¤„ë”°ëŒ", "251120 í…Œë ˆì¹´",
            "251209ğŸ¥›ğŸ¤", "251215 íŒ¬ë¯¸ ë¹„í•˜ì¸ë“œ", "251224 ë§ˆë‹ˆë˜", "251225 í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë¼ë°©",
            "260103 ë§ˆë§ˆ ë¹„í•˜ì¸ë“œ", "260105 ë®¤ë±… ê¸€ë¡œë²Œ", "260109 ì¼ë³¸ íŒ¬ì‹¸", "260112 ìœ„ë²„ìŠ¤",
            "260113 í¬ë¦¬ìŠ¤ë§ˆìŠ¤ğŸ¥›", "260117 ê³µí•­", "260121 ë¦´ìŠ¤", "260122 ğŸ¥›ğŸµğŸ˜½"
        ];

        var lstMember = [], parent = [], equal = [], rec = [];
        var cmp1, cmp2, head1, head2, nrec, numQuestion, totalSize, finishSize, finishFlag = 0;

        function initList(){
            var n = 0;
            lstMember[n] = [];
            for (var i=0; i<namMember.length; i++) { lstMember[n][i] = i; }
            parent[n] = -1;
            totalSize = 0;
            n++;
            for (var i=0; i<lstMember.length; i++) {
                if(lstMember[i].length>=2) {
                    var mid = Math.ceil(lstMember[i].length/2);
                    lstMember[n] = lstMember[i].slice(0,mid);
                    totalSize += lstMember[n].length;
                    parent[n] = i;
                    n++;
                    lstMember[n] = lstMember[i].slice(mid,lstMember[i].length);
                    totalSize += lstMember[n].length;
                    parent[n] = i;
                    n++;
                }
            }
            for (var i=0; i<namMember.length; i++) { rec[i] = 0; }
            nrec = 0;
            for (var i=0; i<=namMember.length; i++) { equal[i] = -1; }
            cmp1 = lstMember.length-2;
            cmp2 = lstMember.length-1;
            head1 = head2 = 0;
            numQuestion = 1;
            finishSize = 0;
        }

        function sortList(flag){
            if (flag<0) {
                rec[nrec++] = lstMember[cmp1][head1++];
                finishSize++;
                while (equal[rec[nrec-1]]!=-1) { rec[nrec++] = lstMember[cmp1][head1++]; finishSize++; }
            } else if (flag>0) {
                rec[nrec++] = lstMember[cmp2][head2++];
                finishSize++;
                while (equal[rec[nrec-1]]!=-1) { rec[nrec++] = lstMember[cmp2][head2++]; finishSize++; }
            }
            if (head1 == lstMember[cmp1].length || head2 == lstMember[cmp2].length) {
                if (head1 < lstMember[cmp1].length) {
                    while (head1 < lstMember[cmp1].length) { rec[nrec++] = lstMember[cmp1][head1++]; finishSize++; }
                } else {
                    while (head2 < lstMember[cmp2].length) { rec[nrec++] = lstMember[cmp2][head2++]; finishSize++; }
                }
                for (var i=0; i<lstMember[cmp1].length+lstMember[cmp2].length; i++) {
                    lstMember[parent[cmp1]][i] = rec[i];
                }
                lstMember.pop(); lstMember.pop();
                cmp1 -= 2; cmp2 -= 2;
                head1 = head2 = 0; nrec = 0;
            }
            if (cmp1 < 0) {
                document.getElementById("battleNumber").innerHTML = "ì •ë ¬ ì™„ë£Œ!";
                showResult();
                finishFlag = 1;
            } else {
                showImage();
            }
        }

        function showResult() {
            var ranking = 1, sameRank = 1, str = "<table class='res-table'><tr class='res-header'><td>ìˆœìœ„</td><td>í•­ëª©</td></tr>";
            for (var i=0; i<namMember.length; i++) {
                str += "<tr><td>"+ranking+"</td><td>"+namMember[lstMember[0][i]]+"</td></tr>";
                if (i<namMember.length-1) {
                    if (equal[lstMember[0][i]]==lstMember[0][i+1]) sameRank++;
                    else { ranking += sameRank; sameRank = 1; }
                }
            }
            str += "</table>";
            document.getElementById("resultField").innerHTML = str;
        }

        function showImage() {
            var percent = Math.floor(finishSize * 100 / totalSize);
            document.getElementById("battleNumber").innerHTML = "Battle No." + numQuestion + " (" + percent + "%)";
            document.getElementById("leftField").innerHTML = namMember[lstMember[cmp1][head1]];
            document.getElementById("rightField").innerHTML = namMember[lstMember[cmp2][head2]];
            numQuestion++;
        }

        initList();
        showImage();
    </script>
</body>
</html>
